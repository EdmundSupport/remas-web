<app-superposition-loading *ngIf="onSaveLoading$ | async">
    <mat-spinner></mat-spinner>
</app-superposition-loading>
<div>
    <div>
        <mat-form-field appearance="fill">
            <mat-label>Número</mat-label>
            <input type="number" [(ngModel)]="charge.number!" matInput placeholder="Número">
        </mat-form-field>
    </div>
    <div>
        <mat-form-field>
            <mat-label>Fecha de Inicio Programada
            </mat-label>
            <input matInput [ngxMatDatetimePicker]="dateStartScheduledA" [(ngModel)]="charge.dateStartScheduled">
            <mat-datepicker-toggle matIconSuffix [for]="$any(dateStartScheduledA)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #dateStartScheduledA></ngx-mat-datetime-picker>
        </mat-form-field>
    </div>
    <div>
        <mat-form-field>
            <mat-label>Fecha de Fin Programada
            </mat-label>
            <input matInput [ngxMatDatetimePicker]="dateEndScheduledA" [(ngModel)]="charge.dateEndScheduled">
            <mat-datepicker-toggle matIconSuffix [for]="$any(dateEndScheduledA)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #dateEndScheduledA></ngx-mat-datetime-picker>
        </mat-form-field>
    </div>
    <div>
        <mat-form-field>
            <mat-label>Fecha Inicio
            </mat-label>
            <input matInput [ngxMatDatetimePicker]="dateStartA" [(ngModel)]="charge.dateStart">
            <mat-datepicker-toggle matIconSuffix [for]="$any(dateStartA)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #dateStartA></ngx-mat-datetime-picker>
        </mat-form-field>
    </div>
    <div>
        <mat-form-field>
            <mat-label>Fecha Fin
            </mat-label>
            <input matInput [ngxMatDatetimePicker]="dateEndA" [(ngModel)]="charge.dateEnd">
            <mat-datepicker-toggle matIconSuffix [for]="$any(dateEndA)"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #dateEndA></ngx-mat-datetime-picker>
        </mat-form-field>
    </div>
    <ng-container *ngFor="let detail of charge.chargeDetailScheduleds; let i = index">
        <app-charge-form-scheduled (onLoad)="onLoad(i)" [attr.id]="'detail' + i" [detail]="detail" (onDelete)="onDeleteDetail(i, $event)"
            (onChange)="onChangeDetail(i, $event)"></app-charge-form-scheduled>
    </ng-container>
</div>
<app-button-float [iconName]="'add'" (onClick)="onAddDetail()" />
<app-button-float [position]="2" [iconName]="'save'" (onClick)="onSave()" />