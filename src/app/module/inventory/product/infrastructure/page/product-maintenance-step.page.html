<div class="content">
    <div class="order">
        <mat-form-field appearance="fill">
            <mat-label>Orden</mat-label>
            <input type="number" [(ngModel)]="detail.order" matInput placeholder="Orden">
        </mat-form-field>
    </div>
    <div class="description">
        <mat-form-field appearance="fill">
            <mat-label>Descripcion</mat-label>
            <textarea [(ngModel)]="detail.description" matInput placeholder="Descripcion"></textarea>
        </mat-form-field>
    </div>
</div>
<div class="footer">
    <button (click)="onAddDetail()" mat-mini-fab color="accent">
        <mat-icon>add</mat-icon>
    </button>
    <div class="detail">
        <ng-container
            *ngIf="detail && detail.productMaintenanceStepDetails && detail.productMaintenanceStepDetails.length > 0">
            <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            Ver detalle
                        </mat-panel-title>
                        <mat-panel-description>
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <ng-container *ngFor="let item of detail.productMaintenanceStepDetails; let i = index">
                        <app-product-maintenance-step-detail 
                        (onDelete)="onDeleteDetail(i, item)"
                        (onChange)="onChangeDetail(i, item)"
                        [detail]="item"
                        ></app-product-maintenance-step-detail>
                    </ng-container>
                </mat-expansion-panel>
            </mat-accordion>
        </ng-container>
    </div>
</div>